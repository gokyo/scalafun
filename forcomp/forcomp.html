<!DOCTYPE html>
<html lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Assignment Details | Functional Programming Principles in Scala</title>
<link rel="stylesheet" href="forcomp_files/spark.css">
<link rel="stylesheet" href="forcomp_files/course.css">
<link rel="icon" href="https://spark-public.s3.amazonaws.com/progfun/static/images/favicon.ico">
<style type="text/css"> .coursera-reporter-link { display:inline-block;} </style><script src="forcomp_files/MathJax.js" type="text/javascript"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style></head>

<body><div style="display: none;" id="MathJax_Message"></div>
    <a href="#course-page-content" class="hidden">Skip Navigation</a>
    <div class="hidden">
        This page features MathJax technology to render mathematical formulae.
        If you are using a screen reader, please visit <a href="http://www.dessci.com/en/products/mathplayer/">MathPlayer</a> to download the plugin for your browser. Please note that this is an Internet Explorer-only plugin at this time.
    </div>

    <h1 class="hidden">Functional Programming Principles in Scala</h1>

    <script src="forcomp_files/204.js" async="" type="text/javascript"></script><script src="forcomp_files/ga.js" async="" type="text/javascript"></script><script>window.onerror = function(message, url, lineNum) {

  // First check the URL and line number of the error
  url = url || window.location.href;
  // 99% of the time, errors without line numbers arent due to our code,
  // they are due to third party plugins and browser extensions
  if (lineNum === undefined || lineNum == null) return;
  
  // Now figure out the actual error message
  // If it's an event, as triggered in several browsers
  if (message.target && message.type) {
    message = message.type;
  }
  if (!message.indexOf) {
    message = 'Non-string, non-event error: ' + (typeof message);
  }
  
  var errorDescrip = {
    message: message,
    script: url,
    line: lineNum,
    url: document.URL
  }
  
  var err = {
    key: 'page.error.javascript', 
    value: errorDescrip
  }
  
  window._204 = window._204 || [];
  window._204.push(err);
  
  window._gaq = window._gaq || [];
  window._gaq.push(err);
}</script>

<div class="course-topbar container-fluid" role="banner">

    <div class="row-fluid">

        <div class="span3">
          <a href="https://www.coursera.org/" class="course-topbar-logo" data-if-linkable="add-referrer"></a>
        </div>

        <div class="course-topbar-nav-container span9" style="float:right;">
            <h2 class="hidden">Top Navigation Bar</h2>

            <ul class="course-topbar-nav-list">
                <li class="course-topbar-nav-list-item">
                  <a href="https://www.coursera.org/courses" data-if-linkable="add-referrer">Courses</a>
                </li>

                
                <li class="course-topbar-nav-list-item" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-topbar-my" data-popup="#course-topbar-my" data-popup-bind-open="mouseenter" data-popup-close="" style="cursor:pointer;" data-popup-direction="se">
                                        <a data-user-id="4658484">
                        Stefano S.                        <i class="icon-caret-down"></i>
                    </a>
                </li>

                            </ul>
        </div>
    </div>

    <div id="course-topbar-aboutus" class="course-topbar-sublist">
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/about/jobs" target="_new" data-if-linkable="add-referrer">Jobs</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/about/team" target="_new" data-if-linkable="add-referrer">Team</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/about/contact" target="_new" data-if-linkable="add-referrer">Contact Us</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/about/" target="_new" data-if-linkable="add-referrer">About Us</a>
    </div>

    <div id="course-topbar-my" class="course-topbar-sublist">
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/" target="_new">My Courses</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/account/profile" target="_new">Profile</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/account/records" target="_new">Course Records</a>
        <a class="course-topbar-sublist-item" href="https://www.coursera.org/account/settings" target="_new">Settings</a>
                <a class="course-topbar-sublist-item" href="https://class.coursera.org/progfun-003/class/preferences">Course Preferences</a>
        <a class="course-topbar-sublist-item" href="https://class.coursera.org/progfun-003/auth/logout">Sign Out</a>
    </div>

</div>








<div class="course-topbanner-wrapper">
  <div class="course-topbanner">
    <div class="course-topbanner-university-logo">
      <a href="https://www.coursera.org/epfl" class="coursera-university-color" target="_blank" data-if-linkable="add-referrer" title="https://www.coursera.org/epfl">
        <img src="forcomp_files/university_logo.png" alt="epfl">
      </a>
    </div>

    
    <h1 class="course-topbanner-header">
      <a class="course-topbanner-name coursera-university-color" href="https://class.coursera.org/progfun-003/class/index" data-if-linkable="modal-lock">
        Functional Programming Principles in Scala      </a>
      <br>
      <span class="course-topbanner-instructor" style="">
        by  Martin  Odersky      </span>
    </h1>

  </div>
</div>

        <div class="container-fluid" style="position:relative;">
        <div class="row-fluid">
            <div id="course-page-sidebar" role="navigation">
                <div class="course-navbar-container">
	<a href="https://class.coursera.org/progfun-003/class/index">
	<img src="forcomp_files/logo.png" style="width: 205px;height: 116px;margin: -15px 0px 8px 1px; box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.05);" alt="Course Home Page">
	</a>

	<div data-coursera-course-search-nav-widget="" class="input-append course-search-nav-box">
		<form class="form-inline minimized-search" method="get" action="https://class.coursera.org/progfun-003/class/search" data-js-search-form="">
			<label for="course-search-nav-input" class="accessible-text-for-reader">Search this course</label>
			<input id="course-search-nav-input" name="q" data-js-search-input="" type="text">&nbsp;
			<button class="btn icon-search" type="submit">
				<span class="accessible-text-for-reader">Search</span>
			</button>
		</form>
	</div>

<h2 class="hidden">Side Navigation Bar</h2>
<ul class="course-navbar-list">
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/class/index" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Home							</a>
						</li>
	
		
	<li class="course-navbar-item">
								</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/lecture/index" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Video Lectures							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=LearningResources" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Learning Resources							</a>
						</li>
	
		
	<li class="course-navbar-item active">
								<a href="https://class.coursera.org/progfun-003/assignment/index" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Assignments							<span class="course-navbar-selected-marker">(selected)</span></a>
						</li>
	
		
	<li class="course-navbar-item">
								</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/forum/index" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Discussion Forums							</a>
						</li>
	
		
	<li class="course-navbar-item">
								</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=ToolsSetup" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Tools Setup							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=SbtTutorial" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Sbt Tutorial							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=EclipseTutorial" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Eclipse Tutorial							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=ScalaTutorial" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Scala Tutorial							</a>
						</li>
	
		
	<li class="course-navbar-item">
								</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=ScalaStyleGuide" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Scala Style Guide							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=AssignmentFeedback" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Assignment Feedback							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=CheatSheet" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Scala Cheat Sheet							</a>
						</li>
	
		
	<li class="course-navbar-item">
								<a href="https://class.coursera.org/progfun-003/wiki/view?page=GradingPolicy" data-if-linkable="modal-lock,gray,lock-icon" class="coursera-university-color">
				
				Grading Policy							</a>
						</li>
	
	
		
		<li class="course-navbar-item">
		<a href="http://www.meetup.com/Coursera/" target="_blank" class="coursera-university-color">
			Join a Meetup
			<span class="icon-share"></span>
		</a>
	</li>
	
    </ul>

<ul style="list-style-type:none;margin-left: 10px;">
  <li><a href="http://help.coursera.org/" class="coursera-university-color" target="_blank" title="Open help articles in new window"><i class="icon-question-sign"></i> Help Articles</a></li>
</ul>

<ul style="list-style-type:none;margin-left: 10px;">
		<li><a href="https://class.coursera.org/progfun-003/forum/list?forum_id=10000" class="coursera-university-color"><i class="icon-comments"></i> Course Materials Errors</a></li>
	<li><a href="https://class.coursera.org/progfun-003/forum/list?forum_id=10001" class="coursera-university-color"><i class="icon-comments"></i> Technical Issues</a></li>

</ul>

</div>
            </div>
            <div id="course-page-content" role="main">
                                <h2 class="course-page-header">
  <span>Anagrams: Instructions</span>

  <a class="coursera-reporter-link" title="Click here if you're experiencing technical problems or found errors in the course materials." target="_blank" href="https://class.coursera.org/progfun-003/help/programming?url=https%3A%2F%2Fclass.coursera.org%2Fprogfun-003%2Fassignment%2Fview%3Fassignment_id%3D17">
     Help
  </a>
</h2>

<br>
<p>When you're ready to submit your solution, go to the <a href="https://class.coursera.org/progfun-003/assignment/list">assignments list</a>.
</p>

<br>
<p>
</p><p>Attention: You are allowed to submit <b>a maximum of 5 times</b>!
 for grade purposes. Once you have submitted your solution, you should 
see your grade and a feedback about your code on the Coursera website 
within 10 minutes. If you want to improve your grade, just submit an 
improved solution. The best of all your first 5 submissions will count 
as the final grade. You can still submit after the 5th time to get 
feedbacks on your improved solutions, however, these are for research 
purposes only, and will not be counted towards your final grade.</p>

<p><a href="http://spark-public.s3.amazonaws.com/progfun/assignments/forcomp.zip">Download the forcomp.zip</a> handout archive file and extract it somewhere on your machine.</p>

<p>In this assignment, you will solve the combinatorial problem of 
finding all the anagrams of a sentence using the Scala Collections API 
and for-comprehensions.</p>

<p>You are encouraged to look at the Scala API documentation while solving this exercise, which can be found here:</p>

<p><a href="http://www.scala-lang.org/api/current/index.html">http://www.scala-lang.org/api/current/index.html</a></p>

<p>Note that Scala uses the <code>String</code> from Java, therefore the documentation for strings has to be looked up in the Javadoc API:</p>

<p><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html">http://docs.oracle.com/javase/6/docs/api/java/lang/String.html</a></p>

<h2 id="the_problem">The problem</h2>

<p>An anagram of a word is a rearrangement of its letters such that a 
word with a different meaning is formed. For example, if we rearrange 
the letters of the word <code>Elvis</code> we can obtain the word <code>lives</code>, which is one of its anagrams.</p>

<p>In a similar way, an anagram of a sentence is a rearrangement of all 
the characters in the sentence such that a new sentence is formed. The 
new sentence consists of meaningful words, the number of which may or 
may not correspond to the number of words in the original sentence. For 
example, the sentence:</p>

<pre><code>I love you</code></pre>

<p>is an anagram of the sentence:</p>

<pre><code>You olive</code></pre>

<p>In this exercise, we will consider permutations of words anagrams of the sentence. In the above example:</p>

<pre><code>You I love</code></pre>

<p>is considered a separate anagram.</p>

<p>When producing anagrams, we will ignore character casing and punctuation characters.</p>

<p>Your ultimate goal is to implement a method <code>sentenceAnagrams</code>, which, given a list of words representing a sentence, finds all the anagrams of that sentence. Note that we used the term <em>meaningful</em> in defining what anagrams are. You will be given a dictionary, i.e. a list of words indicating words that have a meaning.</p>

<p>Here is the general idea. We will transform the characters of the 
sentence into a list saying how often each character appears. We will 
call this list <em>the occurrence list</em>. To find anagrams of a word 
we will find all the words from the dictionary which have the same 
occurrence list. Finding an anagram of a sentence is slightly more 
difficult. We will transform the sentence into its occurrence list, then
 try to extract any subset of characters from it to see if we can form 
any meaningful words. From the remaining characters we will solve the 
problem recursively and then combine all the meaningful words we have 
found with the recursive solution.</p>

<p>Let’s apply this idea to our example, the sentence <code>You olive</code>. Lets represent this sentence as an occurrence list of characters <code>eiloouvy</code>. We start by subtracting some subset of the characters, say <code>i</code>. We are left with the characters <code>eloouvy</code>.</p>

<p>Looking into the dictionary we see that <code>i</code> corresponds to word <code>I</code> in the English language, so we found one meaningful word. We now solve the problem recursively for the rest of the characters <code>eloouvy</code> and obtain a list of solutions <code>List(List(love, you), List(you, love))</code>. We can combine <code>I</code> with that list to obtain sentences <code>I love you</code> and <code>I you love</code>, which are both valid anagrams.</p>

<h2 id="representation">Representation</h2>

<p>We represent the words of a sentence with the <code>String</code> data type:</p>

<pre><code>type Word = String</code></pre>

<p>Words contain lowercase and uppercase characters, and no whitespace, punctuation or other special characters.</p>

<p>Since we are ignoring the punctuation characters of the sentence as 
well as the whitespace characters, we will represent sentences as lists 
of words:</p>

<pre><code>type Sentence = List[Word]</code></pre>

<p>We mentioned previously that we will transform words and sentences 
into occurrence lists. We represent the occurrence lists as sorted lists
 of character and integers pairs:</p>

<pre><code>type Occurrences = List[(Char, Int)]</code></pre>

<p>The list should be sorted by the characters in an ascending order. 
Since we ignore the character casing, all the characters in the 
occurrence list have to be lowercase. The integer in each pair denotes 
how often the character appears in a particular word or a sentence. This
 integer must be positive. Note that positive also means non-zero – 
characters that do not appear in the sentence do not appear in the 
occurrence list either.</p>

<p>Finally, the dictionary of all the meaningful English words is represented as a <code>List</code> of words:</p>

<pre><code>val dictionary: List[Word] = loadDictionary</code></pre>

<p>The dictionary already exists for this exercise and is loaded for you using the <code>loadDictionary</code> utility method.</p>

<h2 id="computing_occurrence_lists">Computing Occurrence Lists</h2>

<p>The <code>groupBy</code> method takes a function mapping an element of a collection to a key of some other type, and produces a <code>Map</code> of keys and collections of elements which mapped to the same key. This method <em>groups</em> the elements, hence its name.</p>

<p>Here is one example:</p>

<pre><code>List("Every", "student", "likes", "Scala").groupBy((element: String) =&gt; element.length)</code></pre>

<p>produces:</p>

<pre><code>Map(
  5 -&gt; List("Every", "likes", "Scala"),
  7 -&gt; List("student")
)</code></pre>

<p>Above, the key is the <code>length</code> of the string and the type of the key is <code>Int</code>. Every <code>String</code> with the same <code>length</code> is grouped under the same key – its <code>length</code>.</p>

<p>Here is another example:</p>

<pre><code>List(0, 1, 2, 1, 0).groupBy((element: Int) =&gt; element)</code></pre>

<p>produces:</p>

<pre><code>Map(
  0 -&gt; List(0, 0),
  1 -&gt; List(1, 1),
  2 -&gt; List(2)
)</code></pre>

<p><code>Map</code>s provide efficient lookup of all the values mapped to a certain key. Any collection of pairs can be transformed into a <code>Map</code> using the <code>toMap</code> method. Similarly, any <code>Map</code> can be transformed into a <code>List</code> of pairs using the <code>toList</code> method.</p>

<p>In our case, the collection will be a <code>Word</code> (i.e. a <code>String</code>) and its elements are characters, so the <code>groupBy</code> method takes a function mapping characters into a desired key type.</p>

<p>In the first part of this exercise, we will implement the method <code>wordOccurrences</code>
 which, given a word, produces its occurrence list. In one of the 
previous exercises, we produced the occurrence list by recursively 
traversing a list of characters. This time we will use the <code>groupBy</code> method from the Collections API (hint: you may additionally use other methods, such as <code>map</code> and <code>toList</code>).</p>

<pre><code>def wordOccurrences(w: Word): Occurrences</code></pre>

<p>Next, we implement another version of the method for entire 
sentences. We can concatenate the words of the sentence into a single 
word and then reuse the method <code>wordOccurrences</code> that we already have.</p>

<pre><code>def sentenceOccurrences(s: Sentence): Occurrences</code></pre>

<h2 id="computing_anagrams_of_a_word">Computing Anagrams of a Word</h2>

<p>To compute the anagrams of a word, we use the simple observation that
 all the anagrams of a word have the same occurrence list. To allow 
efficient lookup of all the words with the same occurrence list, we will
 have to <em>group</em> the words of the dictionary according to their occurrence lists.</p>

<pre><code>lazy val dictionaryByOccurrences: Map[Occurrences, List[Word]]</code></pre>

<p>We then implement the method <code>wordAnagrams</code> which returns the list of anagrams of a single word:</p>

<pre><code>def wordAnagrams(word: Word): List[Word]</code></pre>

<h2 id="computing_subsets_of_a_set">Computing Subsets of a Set</h2>

<p>To compute all the anagrams of a sentence, we will need a helper 
method which, given an occurrence list, produces all the subsets of that
 occurrence list.</p>

<pre><code>def combinations(occurrences: Occurrences): List[Occurrences]</code></pre>

<p>The <code>combinations</code> method should return all possible ways in which we can pick a subset of characters from <code>occurrences</code>. For example, given the occurrence list:</p>

<pre><code>List(('a', 2), ('b', 2))</code></pre>

<p>the list of all subsets is:</p>

<pre><code>List(
  List(),
  List(('a', 1)),
  List(('a', 2)),
  List(('b', 1)),
  List(('a', 1), ('b', 1)),
  List(('a', 2), ('b', 1)),
  List(('b', 2)),
  List(('a', 1), ('b', 2)),
  List(('a', 2), ('b', 2))
)</code></pre>

<p>The order in which you return the subsets does not matter as long as 
they are all included. Note that there is only one subset of an empty 
occurrence list, and that is the empty occurrence list itself.</p>

<p>Hint: investigate how you can use for-comprehensions to implement parts of this method.</p>

<h2 id="computing_anagrams_of_a_sentence">Computing Anagrams of a Sentence</h2>

<p>We now implement another helper method called <code>subtract</code> which, given two occurrence lists <code>x</code> and <code>y</code>, subtracts the frequencies of the occurrence list <code>y</code> from the frequencies of the occurrence list <code>x</code>:</p>

<pre><code>def subtract(x: Occurrences, y: Occurrences): Occurrences</code></pre>

<p>For example, given two occurrence lists for words <code>lard</code> and <code>r</code>:</p>

<pre><code>val x = List(('a', 1), ('d', 1), ('l', 1), ('r', 1))
val y = List(('r', 1))</code></pre>

<p>the <code>subtract(x, y)</code> is <code>List(('a', 1), ('d', 1), ('l', 1))</code>.</p>

<p>The precondition for the <code>subtract</code> method is that the occurrence list <code>y</code> is a subset of the occurrence list <code>x</code> – if the list <code>y</code> has some character then the frequency of that character in <code>x</code> must be greater or equal than the frequency of that character in <code>y</code>. When implementing <code>subtract</code> you can assume that <code>y</code> is a subset of <code>x</code>.</p>

<p>Hint: you can use <code>foldLeft</code>, and <code>-</code>, <code>apply</code> and <code>updated</code> operations on <code>Map</code>.</p>

<p>Now we can finally implement our <code>sentenceAnagrams</code> method for sequences.</p>

<pre><code>def sentenceAnagrams(sentence: Sentence): List[Sentence]</code></pre>

<p>Note that the anagram of the empty sentence is the empty sentence itself.</p>

<p>Hint: First of all, think about the recursive structure of the 
problem: what is the base case, and how should the result of a recursive
 invocation be integrated in each iteration? Also, using 
for-comprehensions helps in finding an elegant implementation for this 
method.</p>

<p>Test the <code>sentenceAnagrams</code> method on short sentences, no 
more than 10 characters. The combinations space gets huge very quickly 
as your sentence gets longer, so the program may run for a very long 
time. However for sentences such as <code>Linux rulez</code>, <code>I love you</code> or <code>Mickey Mouse</code> the program should end fairly quickly – there are not many other ways to say these things.</p>

<h2 id="further_improvement_optional">Further Improvement (Optional)</h2>

<p>This part is optional and is not part of an assignment, nor will be graded. You may skip this part freely.</p>

<p>The solution with enlisting all the combinations was concise, but it 
was not very efficient. The problem is that we have recomputed some 
anagrams more than once when recursively solving the problem. Think 
about a concrete example and a situation where you compute the anagrams 
of the same subset of an occurrence list multiple times.</p>

<p>One way to improve the performance is to save the results obtained 
the first time when you compute the anagrams for an occurence list, and 
use the stored result if you need the same result a second time. Try to 
write a new method <code>sentenceAnagramsMemo</code> which does this.</p><p></p>

            </div>
        </div>
    </div>
        
    
    <script src="forcomp_files/spark.js"></script>

<script>window.onerror = function(message, url, lineNum) {

  // First check the URL and line number of the error
  url = url || window.location.href;
  // 99% of the time, errors without line numbers arent due to our code,
  // they are due to third party plugins and browser extensions
  if (lineNum === undefined || lineNum == null) return;
  
  // Now figure out the actual error message
  // If it's an event, as triggered in several browsers
  if (message.target && message.type) {
    message = message.type;
  }
  if (!message.indexOf) {
    message = 'Non-string, non-event error: ' + (typeof message);
  }
  
  var errorDescrip = {
    message: message,
    script: url,
    line: lineNum,
    url: document.URL
  }
  
  var err = {
    key: 'page.error.javascript', 
    value: errorDescrip
  }
  
  window._204 = window._204 || [];
  window._204.push(err);
  
  window._gaq = window._gaq || [];
  window._gaq.push(err);
}</script>
<script type="text/javascript">
    // SET UP THE MULTITRACKER
        window.logger = window.Log({level:"error"});
        var parts = location.host.split(".");
    while(parts.length > 2) { parts.shift(); }

    window.multitracker = window.MultiTracker({logger:window.logger});
    window.multitracker.register('204', window._204 = window._204 || []);
    window.multitracker.register('ga', window._gaq = window._gaq || [], 'google');

    // SET UP GA and 204
    window._gaq.push(['_setAccount', 'UA-28377374-1']);
    window._gaq.push(['_setDomainName', 'coursera.org']);
    window._gaq.push(['_setAllowLinker', true]);  
    window._gaq.push(['_trackPageview']);
    
    // configure 204 with the following settings
    window._204.push(["client", "spark"]);
    window._204.push(["user", 4658484]);
    window._204.push(["domain", "." + parts.join(".")]);

    // set off the first event
    window._204.push({key:"pageview", val:{}});

    // override our multitracker queues with the ga queue when it is ready
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    
      ga.onload = ga.onreadystatechange = function() {
          ga.onreadystatechange = ga.onload = null;
          window.multitracker.get('ga').queue = window._gaq;
      };
    })();

    // override our multitracker queues with the 204 queue when it is ready
    (function() {
      var a = document.createElement('script'); a.type = 'text/javascript'; a.async = true;
      a.src = 'https://eventing.coursera.org/204.min.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(a, s);
      a.onload = a.onreadystatechange = function() {
          a.onreadystatechange = a.onload = null;
          window.multitracker.get('204').queue = window._204;
      };
    })();
</script>

<script>
  // Set up shared AB testing object
  (function() {
    window.ab = {};

    // we want to share the 204 session cookie with the AB session cookie...
    var sessionId = AB.makeSession("__204u", {expires:356, domain:"." + location.host});
        var debug = false;
    
    window.ab.user = window.AB(4658484, "user", {debug:debug, tracker:window.multitracker, logger:window.logger});
    window.ab.session = window.AB(sessionId, "session", {debug:debug, tracker:window.multitracker, logger:window.logger});

    if(window.CourseraABExperiments.user) {
        window.ab.user.addExperiments(window.CourseraABExperiments.user);
        window.ab.user.runExperimentsOn("body");
    }

    if(window.CourseraABExperiments.session) {
        window.ab.session.addExperiments(window.CourseraABExperiments.session);
        window.ab.session.runExperimentsOn("body");
    }
  })();
</script>


    <script>
      // Set up help widget
      (function() {
        $("[data-helpwidget]").each(function() {
            window.HelpWidget(this, {tracker: window.multitracker});
        });
       })();

        $("[data-readme]").each(function() {
            window.ReadMe(this);
        });
    </script>

    <script src="forcomp_files/modal_focus.js" type="text/javascript"></script>
    <script src="forcomp_files/get_query_parameters.js" type="text/javascript"></script>
    <script src="forcomp_files/signature_track.js" type="text/javascript"></script>
    <script src="forcomp_files/item_list.js" type="text/javascript"></script>
    <script src="forcomp_files/navbar.js" type="text/javascript"></script>

    
    <script>
     // Set up help widget
      (function() {
        $("[data-helpwidget]").each(function() {
            window.HelpWidget(this, {tracker: window.multitracker});
        });
       })();
    </script>

        <script>
    (function() {
        $("<style type='text/css'> .coursera-reporter-link { display:inline-block;} </style>").appendTo("head");
    })();
    </script>
    
    <script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  config: ["MMLorHTML.js"],
  
  styleSheets: [],
  styles: {},

  jax: ["input/TeX"],
  
  extensions: ["tex2jax.js"],

  preJax: null,
  postJax: null,

  preRemoveClass: "MathJax_Preview",

  showProcessingMessages: true,

  messageStyle: "none",
  
  displayAlign: "center",
  displayIndent: "0em",
  
  delayStartupUntil: "none",

  skipStartupTypeset: false,
  
  elements: [],
  
  tex2jax: {
	    inlineMath: [
	                 ['$$','$$'],      // uncomment this for standard TeX math delimiters
	                 ['\\(','\\)']
	                 ],

	                 displayMath: [
	                 ['\\[','\\]']
	                 ],

    skipTags: ["script","noscript","style","textarea","pre","code"],
    ignoreClass: "tex2jax_ignore",
    processClass: "tex2jax_process",
    processEscapes: false,
    processEnvironments: true,
    preview: "TeX"
    
  },
  
  mml2jax: {
    preview: "alttext"
    
  },
  
  jsMath2jax: {
    preview: "TeX"
    
  },

  TeX: {
    TagSide: "right",
    TagIndent: ".8em",
    MultLineWidth: "85%",
    Macros: {},

    extensions: ["AMSmath.js", "AMSsymbols.js"]
    
  },

  //============================================================================
  //
  //  These parameters control the MathML inupt jax.
  //
  MathML: {
    //
    //  This specifies whether to use TeX spacing or MathML spacing when the
    //  HTML-CSS output jax is used.
    //
    useMathMLspacing: false
  },
  
  //============================================================================
  //
  //  These parameters control the HTML-CSS output jax.
  //
  "HTML-CSS": {
    
    scale: 100,
    
    availableFonts: ["STIX","TeX"],
    
    preferredFont: "TeX",
    
    webFont: "TeX",
    
    imageFont: "TeX",
    
    undefinedFamily: "STIXGeneral,'Arial Unicode MS',serif",
      
    showMathMenu: true,

    styles: {},
    
    tooltip: {
      delayPost: 600,          // milliseconds delay before tooltip is posted after mouseover
      delayClear: 600,         // milliseconds delay before tooltip is cleared after mouseout
      offsetX: 10, offsetY: 5  // pixels to offset tooltip from mouse position
    }
  },
  
  //============================================================================
  //
  //  These parameters control the NativeMML output jax.
  //
  NativeMML: {

    scale: 100,

    showMathMenu: true,
    showMathMenuMSIE: true,

    styles: {}
  },
  
  MathMenu: {
    delay: 400,
    
    helpURL: "http://www.mathjax.org/help/user/",

    showRenderer: true,
    showFontMenu: false,
    showContext:  false,

    windowSettings: {
      status: "no", toolbar: "no", locationbar: "no", menubar: "no",
      directories: "no", personalbar: "no", resizable: "yes", scrollbars: "yes",
      width: 100, height: 50
    },
    
    styles: {}
    
  },

  MMLorHTML: {
    prefer: {
      MSIE:    "MML",
      Firefox: "MML",
      Opera:   "HTML",
      other:   "HTML"
    }
  }
});
</script>
<script type="text/javascript">
(function () {

  function loadMathJax() {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://duqnjvq4jwr55.cloudfront.net/2.1/MathJax.js";
    document.getElementsByTagName("head")[0].appendChild(script);
  }

  window.loadOrRefreshMathJax = function(domId) {
    if (window.MathJax) {
      if (domId) {
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, domId]);
      } else {
        MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
      }
    } else {
      loadMathJax();
    }
  }
})();
</script>
    <script type="text/javascript">
        var site_base_url = "https:\/\/www.coursera.org\/";
        var site_static_asset_url = "https:\/\/dt5zaw6a98blc.cloudfront.net\/site-static\/";
        var spark_class_short_name = "progfun";
        var spark_class_id = 971423;
        var spark_class_url = "\/progfun-003";
        var spark_signature_url = "https:\/\/class.coursera.org\/progfun-003\/signature\/";

        var course_strings_name = "Functional Programming Principles in Scala";
        var student_full_name = "Stefano S.";
    </script>

    
<script type="text/javascript">$(function() { loadOrRefreshMathJax();})</script>




</body></html>